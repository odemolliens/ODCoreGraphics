////  ODEllipseBorderIn.m//  testLayerApp////  Created by Olivier Demolliens on 25/10/12.//  Copyright (c) 2012 ostalgo. All rights reserved.////Header#import "ODEllipseStrokeView.h"#ifdef DEBUG#define ODEllStrokeView(fmt, ...) NSLog((@"ODEllipseBorderIn:l%d: " fmt),__LINE__, ##__VA_ARGS__);#else#define ODEllStrokeView(fmt, ...)#endif//Protocol#import "ODQuartzView.h"#import "ODQuartzDebug.h"//Component#import "ODStrokeColor.h"//Form#import "ODEllipse.h"@interface ODEllipseStrokeView() <ODQuartzView,ODQuartzDebug>//Theme-(ODStrokeColor*)defaultTheme;-(ODStrokeColor*)selectTheme;//View-(void)awakeFromNib;-(void)drawRect:(CGRect)rect;@end@implementation ODEllipseStrokeView{   ODStrokeColor *strokeColor_;}#pragma mark Theme management-(ODStrokeColor*)defaultTheme{   ODStrokeColor * newStrokeColor = [[[ODStrokeColor alloc]initWithLineWitdh:2 andRed:0.9333 andGreen:0.4784 andBlue:0.2000 withAlpha:1.000]autorelease];      return newStrokeColor;}-(ODStrokeColor*)selectTheme{   if (!strokeColor_) {      strokeColor_ = [[self defaultTheme]retain];   }      return strokeColor_;}#pragma mark View cycle- (void) awakeFromNib{   [super awakeFromNib];   [self setAlpha:1];}- (void)drawRect:(CGRect)rect{      CGRect newRect = self.bounds;      CGContextRef c = UIGraphicsGetCurrentContext();      if (c != nil)  {            [ODEllipse addEllipseInRect:newRect withContext:c withColor:[self selectTheme]];   }else{      if (DEBUGMODE==kDebugOn) {         ODEllStrokeView(@"can't instanciate context");      }   }      }#pragma mark Memory management- (void)dealloc{   [strokeColor_ release],strokeColor_ = nil;   [super dealloc];}@end